<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>la mort — prank chaotique</title>
  <meta name="description" content="Page de prank chaotique: la mort. Trois niveaux d'horreur visuelle et sonore avec curseur glitch, secousses et chaos total." />
  <link rel="canonical" href="/lamort.html" />
  <meta property="og:title" content="la mort — prank chaotique" />
  <meta property="og:description" content="Trois niveaux: curseur glitch, écran qui tremble avec carrés fous et mode LA MORT avec sons ultra rapides et couleurs chaotiques." />
  <meta property="og:type" content="website" />
  <meta name="theme-color" content="#000000" />
  <style>
    :root {
      --bg: #000;
      --dot: rgba(255,255,255,0.08);
      --dot-2: rgba(255,255,255,0.04);
      --text: #f2f2f2;
      --muted: rgba(255,255,255,0.6);
      --accent: #ff0033;
      --accent-2: #7f00ff;
      --accent-3: #00ffd0;
    }

    * { box-sizing: border-box; }
    html, body { height: 100%; }
    body {
      margin: 0;
      background-color: var(--bg);
      background-image:
        radial-gradient(circle at 25% 25%, var(--dot) 2px, transparent 2px),
        radial-gradient(circle at 75% 75%, var(--dot-2) 1px, transparent 1px);
      background-size: 22px 22px, 18px 18px;
      color: var(--text);
      font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Noto Sans, Ubuntu, Cantarell, Helvetica Neue, Arial, "Apple Color Emoji", "Segoe UI Emoji";
      overflow: hidden;
    }

    header { position: relative; z-index: 2; padding-top: 8vh; text-align: center; }
    h1 {
      margin: 0 0 20px;
      font-size: clamp(36px, 8vw, 120px);
      line-height: 0.9;
      letter-spacing: 0.06em;
      text-transform: lowercase;
      text-shadow: 0 2px 0 #8a0000, 0 12px 30px rgba(255,0,51,0.35);
    }
    p.lead { margin: 0 auto; max-width: 72ch; color: var(--muted); }

    main { position: relative; z-index: 2; display: grid; place-items: center; padding: 24px; }

    .controls { display: flex; gap: 16px; flex-wrap: wrap; align-items: center; justify-content: center; padding: 24px; }

    .btn3d {
      --shadow: rgba(0,0,0,0.7);
      --glow: rgba(255,0,51,0.45);
      appearance: none;
      border: none;
      outline: none;
      cursor: pointer;
      user-select: none;
      padding: 16px 28px;
      border-radius: 14px;
      color: var(--text);
      background: linear-gradient(180deg, rgba(255,255,255,0.06), rgba(255,255,255,0.01));
      box-shadow:
        0 1px 0 0 rgba(255,255,255,0.15) inset,
        0 10px 0 0 #1a1a1a,
        0 18px 30px -8px var(--glow);
      transform: translateY(0);
      transition: transform .15s cubic-bezier(.2,.8,.2,1), box-shadow .2s ease, filter .2s ease;
      position: relative;
      font-weight: 800;
      letter-spacing: 0.04em;
      text-transform: uppercase;
      background-clip: padding-box;
    }
    .btn3d::after {
      content: "";
      position: absolute; inset: 0; border-radius: 14px; pointer-events: none;
      background: radial-gradient(120% 100% at 10% 0%, rgba(255,0,80,0.35), transparent 40%),
                  radial-gradient(120% 100% at 90% 0%, rgba(0,255,208,0.3), transparent 40%);
      mix-blend-mode: screen; opacity: .7; transition: opacity .2s ease;
    }
    .btn3d:hover { transform: translateY(-6px) scale(1.02) rotateX(2deg) rotateY(-2deg); box-shadow: 0 1px 0 0 rgba(255,255,255,0.15) inset, 0 16px 0 0 #131313, 0 28px 50px -12px var(--glow); filter: saturate(1.2); }
    .btn3d:active { transform: translateY(6px); box-shadow: 0 1px 0 0 rgba(255,255,255,0.15) inset, 0 4px 0 0 #111, 0 10px 30px -10px var(--glow); }
    .btn1 { --glow: rgba(0,255,208,0.45); }
    .btn2 { --glow: rgba(127,0,255,0.5); }
    .btn3 { --glow: rgba(255,0,51,0.65); background: linear-gradient(180deg, rgba(255,0,51,0.15), rgba(127,0,255,0.15)); }

    /* Fake cursor */
    .no-cursor { cursor: none; }
    .fakeCursor {
      position: fixed; left: 0; top: 0; width: 22px; height: 22px; pointer-events: none; z-index: 9999;
      border-radius: 50%; border: 2px solid rgba(255,255,255,0.9);
      box-shadow: 0 0 18px rgba(255,0,51,0.7), inset 0 0 8px rgba(255,255,255,0.4);
      mix-blend-mode: difference;
      transform: translate(-50%, -50%);
    }

    /* Level 2: shake + squares */
    .shake { animation: screen-shake 0.08s infinite linear; }
    @keyframes screen-shake {
      0% { transform: translate(0, 0) rotate(0.2deg); }
      25% { transform: translate(2px, -2px) rotate(-0.3deg); }
      50% { transform: translate(-2px, 2px) rotate(0.4deg); }
      75% { transform: translate(3px, 1px) rotate(-0.2deg); }
      100% { transform: translate(0, 0) rotate(0.2deg); }
    }

    #squares { position: fixed; inset: 0; pointer-events: none; z-index: 1; }
    .square {
      position: absolute; will-change: transform, opacity, background-color, width, height; border-radius: 4px;
      filter: drop-shadow(0 8px 20px rgba(0,0,0,0.45));
      animation: flicker 0.2s infinite steps(2);
    }
    @keyframes flicker {
      50% { opacity: 0.6; filter: hue-rotate(180deg) drop-shadow(0 12px 30px rgba(0,0,0,0.6)); }
    }

    /* Level 3: strobe/chaos */
    .strobe { animation: bg-strobe 0.2s infinite linear; }
    @keyframes bg-strobe {
      0% { filter: hue-rotate(0deg) saturate(1); }
      50% { filter: hue-rotate(140deg) saturate(2); }
      100% { filter: hue-rotate(280deg) saturate(1); }
    }

    #layer-words, #layer-emojis { position: fixed; inset: 0; pointer-events: none; z-index: 3; }
    .word { position: absolute; font-weight: 900; color: #fff; text-transform: uppercase; letter-spacing: 0.08em; mix-blend-mode: difference; text-shadow: 0 0 8px #000, 0 0 24px #fff; will-change: transform, opacity; }
    .word.glitch { animation: word-pop 700ms cubic-bezier(.2,.8,.2,1) forwards; }
    @keyframes word-pop {
      0% { transform: translateY(20px) scale(0.5) rotate(-8deg); opacity: 0; }
      30% { transform: translateY(-8px) scale(1.2) rotate(6deg); opacity: 1; }
      70% { transform: translateY(0) scale(1) rotate(-4deg); opacity: 1; }
      100% { transform: translateY(-30px) scale(1.8) rotate(10deg); opacity: 0; }
    }

    .emoji { position: absolute; font-size: clamp(28px, 6vw, 90px); will-change: transform, opacity; animation: emoji-fly 1.6s ease-in-out forwards; filter: drop-shadow(0 6px 12px rgba(0,0,0,0.5)); }
    @keyframes emoji-fly { from { transform: translateY(0) scale(1); opacity: .9; } to { transform: translateY(-140px) rotate(360deg) scale(1.6); opacity: 0; } }

    /* Decorative grain overlay */
    .grain { position: fixed; inset: -20vmax; background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='1200' height='1200'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='2' stitchTiles='stitch'/%3E%3CfeColorMatrix type='saturate' values='0'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23n)' opacity='0.05'/%3E%3C/svg%3E"); opacity: .25; mix-blend-mode: soft-light; pointer-events: none; z-index: 0; }

    /* Footer hint */
    footer { position: fixed; inset: auto 0 10px 0; text-align: center; color: var(--muted); font-size: 12px; z-index: 2; }
  </style>
</head>
<body>
  <div class="grain" aria-hidden="true"></div>

  <header>
    <h1>la mort</h1>
    <p class="lead">Trois niveaux de chaos. Utilisez un casque. Cliquez pour activer/désactiver chaque niveau. Attention aux sons très rapides.</p>
  </header>

  <main>
    <nav class="controls" aria-label="Contrôles de la page la mort">
      <button id="lvl1" class="btn3d btn1" aria-pressed="false" aria-label="Activer Niveau 1: curseur glitch">niveau 1</button>
      <button id="lvl2" class="btn3d btn2" aria-pressed="false" aria-label="Activer Niveau 2: tremblements et carrés glitched">niveau 2…</button>
      <button id="lvl3" class="btn3d btn3" aria-pressed="false" aria-label="Activer Niveau 3: LA MORT, sons rapides et chaos">LA MORT</button>
    </nav>
  </main>

  <section id="squares" aria-hidden="true"></section>
  <section id="layer-words" aria-hidden="true"></section>
  <section id="layer-emojis" aria-hidden="true"></section>

  <footer>
    Cliquez à nouveau sur un bouton pour arrêter son effet. — Page de prank autonome.
  </footer>

  <script>
    // Helpers
    const $ = (s) => document.querySelector(s);
    const rnd = (min, max) => Math.random() * (max - min) + min;
    const rndi = (min, max) => Math.floor(rnd(min, max));

    // State
    let level1Active = false;
    let level2Active = false;
    let level3Active = false;

    // Level 1: fake cursor glitch
    let fakeCursorEl = null;
    let lvl1Timer = null;
    let mouseX = innerWidth / 2, mouseY = innerHeight / 2;

    window.addEventListener('mousemove', (e) => { mouseX = e.clientX; mouseY = e.clientY; });

    function enableLevel1() {
      if (level1Active) return;
      level1Active = true;
      document.body.classList.add('no-cursor');
      fakeCursorEl = document.createElement('div');
      fakeCursorEl.className = 'fakeCursor';
      document.body.appendChild(fakeCursorEl);

      lvl1Timer = setInterval(() => {
        // 70% follow the mouse with jitter, 30% random teleport
        if (Math.random() < 0.7) {
          const jitterX = mouseX + Math.sin(Date.now()/30) * rndi(-18, 18) + rndi(-22, 22);
          const jitterY = mouseY + Math.cos(Date.now()/25) * rndi(-18, 18) + rndi(-22, 22);
          fakeCursorEl.style.left = jitterX + 'px';
          fakeCursorEl.style.top = jitterY + 'px';
        } else {
          fakeCursorEl.style.left = rndi(0, innerWidth) + 'px';
          fakeCursorEl.style.top = rndi(0, innerHeight) + 'px';
        }
      }, 40);
    }

    function disableLevel1() {
      level1Active = false;
      clearInterval(lvl1Timer);
      document.body.classList.remove('no-cursor');
      fakeCursorEl && fakeCursorEl.remove();
      fakeCursorEl = null;
    }

    // Level 2: screen shake + glitch squares
    let lvl2SquaresTimer = null;

    function spawnSquare() {
      const sq = document.createElement('div');
      sq.className = 'square';
      const size = rnd(20, 140);
      sq.style.width = size + 'px';
      sq.style.height = size + 'px';
      sq.style.left = rnd(-40, innerWidth + 40) + 'px';
      sq.style.top = rnd(-40, innerHeight + 40) + 'px';
      sq.style.background = `hsla(${rndi(0,360)} 100% 50% / ${rnd(0.6,0.95)})`;
      sq.style.opacity = rnd(0.6, 1).toString();
      $('#squares').appendChild(sq);
      // Motion
      const dx = rnd(-60, 60), dy = rnd(-60, 60);
      const time = rnd(600, 1800);
      sq.animate([
        { transform: 'translate(0,0) scale(1)' },
        { transform: `translate(${dx}px, ${dy}px) scale(${rnd(0.6,1.6)})` }
      ], { duration: time, easing: 'cubic-bezier(.2,.8,.2,1)' });
      setTimeout(() => sq.remove(), time);
    }

    function enableLevel2() {
      if (level2Active) return;
      level2Active = true;
      document.body.classList.add('shake');
      lvl2SquaresTimer = setInterval(spawnSquare, 90);
    }

    function disableLevel2() {
      level2Active = false;
      clearInterval(lvl2SquaresTimer);
      document.body.classList.remove('shake');
      $('#squares').innerHTML = '';
    }

    // Level 3: LA MORT — fast sounds + chaos colors + spam words + scary emojis
    let audioCtx = null;
    let lvl3Timers = [];

    function beep() {
      if (!audioCtx) return;
      const o = audioCtx.createOscillator();
      const g = audioCtx.createGain();
      o.type = 'square';
      o.frequency.value = 140 + Math.random() * 1200;
      g.gain.setValueAtTime(0.0001, audioCtx.currentTime);
      g.gain.exponentialRampToValueAtTime(0.6, audioCtx.currentTime + 0.015);
      g.gain.exponentialRampToValueAtTime(0.0001, audioCtx.currentTime + 0.09);
      o.connect(g).connect(audioCtx.destination);
      o.start();
      o.stop(audioCtx.currentTime + 0.1);
    }

    function noise() {
      if (!audioCtx) return;
      const bufferSize = 2 * audioCtx.sampleRate;
      const noiseBuffer = audioCtx.createBuffer(1, bufferSize, audioCtx.sampleRate);
      const out = noiseBuffer.getChannelData(0);
      for (let i = 0; i < bufferSize; i++) out[i] = Math.random() * 2 - 1;
      const src = audioCtx.createBufferSource();
      src.buffer = noiseBuffer;
      const filter = audioCtx.createBiquadFilter();
      filter.type = 'bandpass';
      filter.frequency.value = 800 + Math.random() * 2400;
      const g = audioCtx.createGain();
      g.gain.value = 0.12;
      src.connect(filter).connect(g).connect(audioCtx.destination);
      src.start();
      src.stop(audioCtx.currentTime + 0.06);
    }

    const WORDS = [
      'LA MORT','CRIIII','SANG','PEUR','OMBRE','DANGER','AAAA','NOIR','HURLE','FIN','CHAOS','FROID','GLACE','TERREUR'
    ];

    function spawnWord() {
      const w = document.createElement('div');
      w.className = 'word glitch';
      w.textContent = WORDS[rndi(0, WORDS.length)];
      w.style.left = rndi(0, innerWidth - 120) + 'px';
      w.style.top = rndi(0, innerHeight - 80) + 'px';
      w.style.fontSize = `clamp(16px, ${rndi(2,8)}vw, 120px)`;
      w.style.color = `hsl(${rndi(0,360)} 100% ${rndi(40,80)}%)`;
      $('#layer-words').appendChild(w);
      setTimeout(() => w.remove(), 800);
    }

    const EMOJIS = ['💀','🩸','🕷️','👁️','🖤','🕯️','🗡️','🦇'];
    function spawnEmoji() {
      const e = document.createElement('div');
      e.className = 'emoji';
      e.textContent = EMOJIS[rndi(0, EMOJIS.length)];
      e.style.left = rndi(0, innerWidth - 50) + 'px';
      e.style.top = rndi(0, innerHeight - 50) + 'px';
      $('#layer-emojis').appendChild(e);
      setTimeout(() => e.remove(), 1600);
    }

    function enableLevel3() {
      if (level3Active) return;
      level3Active = true;
      document.body.classList.add('strobe');
      if (!audioCtx) audioCtx = new (window.AudioContext || window.webkitAudioContext)();
      // Very fast sound spam
      lvl3Timers.push(setInterval(beep, 70));
      lvl3Timers.push(setInterval(noise, 95));
      // Visual spam
      lvl3Timers.push(setInterval(spawnWord, 60));
      lvl3Timers.push(setInterval(spawnEmoji, 120));
    }

    function disableLevel3() {
      level3Active = false;
      document.body.classList.remove('strobe');
      lvl3Timers.forEach(clearInterval); lvl3Timers = [];
      if (audioCtx && audioCtx.state !== 'closed') audioCtx.suspend();
      $('#layer-words').innerHTML = '';
      $('#layer-emojis').innerHTML = '';
    }

    // Button bindings (toggle behavior)
    $('#lvl1').addEventListener('click', () => {
      if (!level1Active) { enableLevel1(); $('#lvl1').setAttribute('aria-pressed','true'); } else { disableLevel1(); $('#lvl1').setAttribute('aria-pressed','false'); }
    });

    $('#lvl2').addEventListener('click', () => {
      if (!level2Active) { enableLevel2(); $('#lvl2').setAttribute('aria-pressed','true'); } else { disableLevel2(); $('#lvl2').setAttribute('aria-pressed','false'); }
    });

    $('#lvl3').addEventListener('click', async () => {
      try { if (audioCtx && audioCtx.state === 'suspended') await audioCtx.resume(); } catch(e){}
      if (!level3Active) { enableLevel3(); $('#lvl3').setAttribute('aria-pressed','true'); } else { disableLevel3(); $('#lvl3').setAttribute('aria-pressed','false'); }
    });

    // Accessibility: keyboard activation with Space/Enter
    ['#lvl1','#lvl2','#lvl3'].forEach(sel => {
      const el = $(sel);
      el.addEventListener('keydown', (e) => {
        if (e.key === ' ' || e.key === 'Enter') { e.preventDefault(); el.click(); }
      });
    });

    // Resize safety
    addEventListener('resize', () => {
      // nothing required; bounds are recomputed on spawn
    });
  </script>
</body>
</html>
